(this.webpackJsonprocklike=this.webpackJsonprocklike||[]).push([[0],{36:function(e,t,a){e.exports=a(57)},48:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);a(37);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),s=a(13),u=a(6),o=a(7),l=a(9),h=a(8),p=a(11),d=a(61),m=a(17),f=a(60),b=a(62),g=a(63),v=a(64),k=a(58),y=a(59),w=a(2),E=a.n(w),x=a(34),O=a(5),j=a(22),S="returnUrl",C="message",R="logout-callback",L="logout",A="logged-out",U="login",I="login-callback",T="login-failed",P="profile",N="register",M="/authentication",_={DefaultLoginRedirectPath:"/",ApiAuthorizationClientConfigurationUrl:"_configuration/".concat("RockLike"),ApiAuthorizationPrefix:M,Login:"".concat(M,"/").concat(U),LoginFailed:"".concat(M,"/").concat(T),LoginCallback:"".concat(M,"/").concat(I),Register:"".concat(M,"/").concat(N),Profile:"".concat(M,"/").concat(P),LogOut:"".concat(M,"/").concat(L),LoggedOut:"".concat(M,"/").concat(A),LogOutCallback:"".concat(M,"/").concat(R),IdentityRegisterPath:"Identity/Account/Register",IdentityManagePath:"Identity/Account/Manage"},z=new(function(){function e(){Object(u.a)(this,e),this._callbacks=[],this._nextSubscriptionId=0,this._user=null,this._isAuthenticated=!1,this._popUpDisabled=!0}return Object(o.a)(e,[{key:"isAuthenticated",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUser();case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._user||!this._user.profile){e.next=2;break}return e.abrupt("return",this._user.profile);case 2:return e.next=4,this.ensureUserManagerInitialized();case 4:return e.next=6,this.userManager.getUser();case 6:return t=e.sent,e.abrupt("return",t&&t.profile);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.next=4,this.userManager.getUser();case 4:return t=e.sent,e.abrupt("return",t&&t.access_token);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=Object(O.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.prev=2,e.next=5,this.userManager.signinSilent(this.createArguments());case 5:return a=e.sent,this.updateState(a),e.abrupt("return",this.success(t));case 10:if(e.prev=10,e.t0=e.catch(2),console.log("Silent authentication error: ",e.t0),e.prev=13,!this._popUpDisabled){e.next=16;break}throw new Error("Popup disabled. Change 'AuthorizeService.js:AuthorizeService._popupDisabled' to false to enable it.");case 16:return e.next=18,this.userManager.signinPopup(this.createArguments());case 18:return n=e.sent,this.updateState(n),e.abrupt("return",this.success(t));case 23:if(e.prev=23,e.t1=e.catch(13),"Popup window closed"!==e.t1.message){e.next=29;break}return e.abrupt("return",this.error("The user closed the window."));case 29:this._popUpDisabled||console.log("Popup authentication error: ",e.t1);case 30:return e.prev=30,e.next=33,this.userManager.signinRedirect(this.createArguments(t));case 33:return e.abrupt("return",this.redirect());case 36:return e.prev=36,e.t2=e.catch(30),console.log("Redirect authentication error: ",e.t2),e.abrupt("return",this.error(e.t2));case 40:case"end":return e.stop()}}),e,this,[[2,10],[13,23],[30,36]])})));return function(t){return e.apply(this,arguments)}}()},{key:"completeSignIn",value:function(){var e=Object(O.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.ensureUserManagerInitialized();case 3:return e.next=5,this.userManager.signinCallback(t);case 5:return a=e.sent,this.updateState(a),e.abrupt("return",this.success(a&&a.state));case 10:return e.prev=10,e.t0=e.catch(0),console.log("There was an error signing in: ",e.t0),e.abrupt("return",this.error("There was an error signing in."));case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:if(e.prev=2,!this._popUpDisabled){e.next=5;break}throw new Error("Popup disabled. Change 'AuthorizeService.js:AuthorizeService._popupDisabled' to false to enable it.");case 5:return e.next=7,this.userManager.signoutPopup(this.createArguments());case 7:return this.updateState(void 0),e.abrupt("return",this.success(t));case 11:return e.prev=11,e.t0=e.catch(2),console.log("Popup signout error: ",e.t0),e.prev=14,e.next=17,this.userManager.signoutRedirect(this.createArguments(t));case 17:return e.abrupt("return",this.redirect());case 20:return e.prev=20,e.t1=e.catch(14),console.log("Redirect signout error: ",e.t1),e.abrupt("return",this.error(e.t1));case 24:case"end":return e.stop()}}),e,this,[[2,11],[14,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"completeSignOut",value:function(){var e=Object(O.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.prev=2,e.next=5,this.userManager.signoutCallback(t);case 5:return a=e.sent,this.updateState(null),e.abrupt("return",this.success(a&&a.data));case 10:return e.prev=10,e.t0=e.catch(2),console.log("There was an error trying to log out '".concat(e.t0,"'.")),e.abrupt("return",this.error(e.t0));case 14:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateState",value:function(e){this._user=e,this._isAuthenticated=!!this._user,this.notifySubscribers()}},{key:"subscribe",value:function(e){return this._callbacks.push({callback:e,subscription:this._nextSubscriptionId++}),this._nextSubscriptionId-1}},{key:"unsubscribe",value:function(e){var t=this._callbacks.map((function(t,a){return t.subscription===e?{found:!0,index:a}:{found:!1}})).filter((function(e){return!0===e.found}));if(1!==t.length)throw new Error("Found an invalid number of subscriptions ".concat(t.length));this._callbacks.splice(t[0].index,1)}},{key:"notifySubscribers",value:function(){for(var e=0;e<this._callbacks.length;e++){(0,this._callbacks[e].callback)()}}},{key:"createArguments",value:function(e){return{useReplaceToNavigate:!0,data:e}}},{key:"error",value:function(e){return{status:D.Fail,message:e}}},{key:"success",value:function(e){return{status:D.Success,state:e}}},{key:"redirect",value:function(){return{status:D.Redirect}}},{key:"ensureUserManagerInitialized",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t,a,n=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.userManager){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch(_.ApiAuthorizationClientConfigurationUrl);case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("Could not load settings for '".concat("RockLike","'"));case 7:return e.next=9,t.json();case 9:(a=e.sent).automaticSilentRenew=!0,a.includeIdTokenInSilentRenew=!0,a.userStore=new j.WebStorageStateStore({prefix:"RockLike"}),this.userManager=new j.UserManager(a),this.userManager.events.addUserSignedOut(Object(O.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.userManager.removeUser();case 2:n.updateState(void 0);case 3:case"end":return e.stop()}}),e)}))));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"instance",get:function(){return z}}]),e}()),F=z,D={Redirect:"redirect",Success:"success",Fail:"fail"},W=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={isAuthenticated:!1,userName:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._subscription=F.subscribe((function(){return e.populateState()})),this.populateState()}},{key:"componentWillUnmount",value:function(){F.unsubscribe(this._subscription)}},{key:"populateState",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t,a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([F.isAuthenticated(),F.getUser()]);case 2:t=e.sent,a=Object(x.a)(t,2),n=a[0],r=a[1],this.setState({isAuthenticated:n,userName:r&&r.name});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isAuthenticated,a=e.userName;if(t){var n="".concat(_.Profile),r={pathname:"".concat(_.LogOut),state:{local:!0}};return this.authenticatedView(a,n,r)}var c="".concat(_.Register),i="".concat(_.Login);return this.anonymousView(c,i)}},{key:"authenticatedView",value:function(e,t,a){return r.a.createElement(n.Fragment,null,r.a.createElement(k.a,null,r.a.createElement(y.a,{tag:s.b,className:"text-dark",to:t},"Hello ",e)),r.a.createElement(k.a,null,r.a.createElement(y.a,{tag:s.b,className:"text-dark",to:a},"Logout")))}},{key:"anonymousView",value:function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement(k.a,null,r.a.createElement(y.a,{tag:s.b,className:"text-dark",to:e},"Register")),r.a.createElement(k.a,null,r.a.createElement(y.a,{tag:s.b,className:"text-dark",to:t},"Login")))}}]),a}(n.Component),B=(a(48),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleNavbar=n.toggleNavbar.bind(Object(m.a)(n)),n.state={collapsed:!0},n}return Object(o.a)(a,[{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement(f.a,{className:"navbar-expand-sm navbar-toggleable-sm ng-white border-bottom box-shadow mb-3",light:!0},r.a.createElement(d.a,null,r.a.createElement(b.a,{tag:s.b,to:"/"},"RockLike"),r.a.createElement(g.a,{onClick:this.toggleNavbar,className:"mr-2"}),r.a.createElement(v.a,{className:"d-sm-inline-flex flex-sm-row-reverse",isOpen:!this.state.collapsed,navbar:!0},r.a.createElement("ul",{className:"navbar-nav flex-grow"},r.a.createElement(k.a,null,r.a.createElement(y.a,{tag:s.b,className:"text-dark",to:"/"},"Home")),r.a.createElement(k.a,null,r.a.createElement(y.a,{tag:s.b,className:"text-dark",to:"/Counter"},"Counter")),r.a.createElement(k.a,null,r.a.createElement(y.a,{tag:s.b,className:"text-dark",to:"/fetch-data"},"Fetch data")),r.a.createElement(W,null))))))}}]),a}(n.Component));B.displayName=B.name;var J=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(B,null),r.a.createElement(d.a,null,this.props.children))}}]),a}(n.Component);J.displayName=J.name;var V=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={likes:0,loading:!0},n.addLike=n.addLike.bind(Object(m.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.populateLikesCount()}},{key:"addLike",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t,a,n,r,c,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getAccessToken();case 2:return t=e.sent,"SiteLikes/PostSiteLike",a=window.location.href,n={Url:a},r={method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify(n)},e.next=10,fetch("SiteLikes/PostSiteLike",r);case 10:if(!(c=e.sent).ok){e.next=18;break}return e.next=14,c.json();case 14:i=e.sent,this.setState({likes:i,loading:!1}),e.next=19;break;case 18:-1!==[401].indexOf(c.status)&&this.setState({loading:!1,statusRequest:401});case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refreshPage",value:function(){this.populateLikesCount()}},{key:"renderButtonLikeCount",value:function(){var e,t,a=this.state.likes;return e=0===a?"Seja o primeiro a curtir!":"".concat(a,1===a?" Curtida":" Curtidas"),401==this.state.statusRequest&&(t="Favor realizar login para Curtir!"),r.a.createElement("div",{style:{borderTop:"2px solid #fff "}},r.a.createElement("button",{className:"button",onClick:this.addLike},"Curtir"),r.a.createElement("span",{style:{marginLeft:20,marginRight:20}},e),r.a.createElement("span",{style:{marginLeft:20,marginRight:20,color:"red"}},t))}},{key:"render",value:function(){return this.state.loading?r.a.createElement("p",null,r.a.createElement("em",null,"Loading...")):this.renderButtonLikeCount()}},{key:"populateLikesCount",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="SiteLikes/GetSiteLikeCount?url=".concat(window.location.href),e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,this.setState({likes:n,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),H=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Hello, world!"),r.a.createElement("p",null,"Welcome to your new single-page application, built with:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://get.asp.net/"},"ASP.NET Core")," and ",r.a.createElement("a",{href:"https://msdn.microsoft.com/en-us/library/67ef8sbd.aspx"},"C#")," for cross-platform server-side code"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://facebook.github.io/react/"},"React")," for client-side code"),r.a.createElement("li",null,r.a.createElement("a",{href:"http://getbootstrap.com/"},"Bootstrap")," for layout and styling")),r.a.createElement("p",null,"To help you get started, we have also set up:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"Client-side navigation"),". For example, click ",r.a.createElement("em",null,"Counter")," then ",r.a.createElement("em",null,"Back")," to return here."),r.a.createElement("li",null,r.a.createElement("strong",null,"Development server integration"),". In development mode, the development server from ",r.a.createElement("code",null,"create-react-app")," runs in the background automatically, so your client-side resources are dynamically built on demand and the page refreshes when you modify any file."),r.a.createElement("li",null,r.a.createElement("strong",null,"Efficient production builds"),". In production mode, development-time features are disabled, and your ",r.a.createElement("code",null,"dotnet publish")," configuration produces minified, efficiently bundled JavaScript files.")),r.a.createElement("p",null,"The ",r.a.createElement("code",null,"ClientApp")," subdirectory is a standard React application based on the ",r.a.createElement("code",null,"create-react-app")," template. If you open a command prompt in that directory, you can run ",r.a.createElement("code",null,"npm")," commands such as ",r.a.createElement("code",null,"npm test")," or ",r.a.createElement("code",null,"npm install"),"."),r.a.createElement(V,null))}}]),a}(n.Component);H.displayName=H.name;var q=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={forecasts:[],loading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.populateWeatherData()}},{key:"render",value:function(){var e=this.state.loading?r.a.createElement("p",null,r.a.createElement("em",null,"Loading...")):a.renderForecastsTable(this.state.forecasts);return r.a.createElement("div",null,r.a.createElement("h1",{id:"tabelLabel"},"Weather forecast"),r.a.createElement("p",null,"This component demonstrates fetching data from the server."),e,r.a.createElement(V,null))}},{key:"populateWeatherData",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getAccessToken();case 2:return t=e.sent,e.next=5,fetch("weatherforecast",{headers:t?{Authorization:"Bearer ".concat(t)}:{}});case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,this.setState({forecasts:n,loading:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"renderForecastsTable",value:function(e){return r.a.createElement("table",{className:"table table-striped","aria-labelledby":"tabelLabel"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Temp. (C)"),r.a.createElement("th",null,"Temp. (F)"),r.a.createElement("th",null,"Summary"))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.date},r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.temperatureC),r.a.createElement("td",null,e.temperatureF),r.a.createElement("td",null,e.summary))}))))}}]),a}(n.Component);q.displayName=q.name;var Y=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={currentCount:0},n.incrementCounter=n.incrementCounter.bind(Object(m.a)(n)),n}return Object(o.a)(a,[{key:"incrementCounter",value:function(){this.setState({currentCount:this.state.currentCount+1})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Counter"),r.a.createElement("p",null,"This is a simple example of a React component."),r.a.createElement("p",{"aria-live":"polite"},"Current count: ",r.a.createElement("strong",null,this.state.currentCount)),r.a.createElement("button",{className:"btn btn-primary",onClick:this.incrementCounter},"Increment"),r.a.createElement(V,null))}}]),a}(n.Component);Y.displayName=Y.name;var G=a(35),K=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={ready:!1,authenticated:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._subscription=F.subscribe((function(){return e.authenticationChanged()})),this.populateAuthenticationState()}},{key:"componentWillUnmount",value:function(){F.unsubscribe(this._subscription)}},{key:"render",value:function(){var e=this.state,t=e.ready,a=e.authenticated,n=document.createElement("a");n.href=this.props.path;var c="".concat(n.protocol,"//").concat(n.host).concat(n.pathname).concat(n.search).concat(n.hash),i="".concat(_.Login,"?").concat(S,"=").concat(encodeURIComponent(c));if(t){var s=this.props,u=s.component,o=Object(G.a)(s,["component"]);return r.a.createElement(p.b,Object.assign({},o,{render:function(e){return a?r.a.createElement(u,e):r.a.createElement(p.a,{to:i})}}))}return r.a.createElement("div",null)}},{key:"populateAuthenticationState",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.isAuthenticated();case 2:t=e.sent,this.setState({ready:!0,authenticated:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"authenticationChanged",value:function(){var e=Object(O.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({ready:!1,authenticated:!1}),e.next=3,this.populateAuthenticationState();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),Q=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={message:void 0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.action;switch(e){case U:this.login(this.getReturnUrl());break;case I:this.processLoginCallback();break;case T:var t=new URLSearchParams(window.location.search).get(C);this.setState({message:t});break;case P:this.redirectToProfile();break;case N:this.redirectToRegister();break;default:throw new Error("Invalid action '".concat(e,"'"))}}},{key:"render",value:function(){var e=this.props.action,t=this.state.message;if(t)return r.a.createElement("div",null,t);switch(e){case U:return r.a.createElement("div",null,"Processing login");case I:return r.a.createElement("div",null,"Processing login callback");case P:case N:return r.a.createElement("div",null);default:throw new Error("Invalid action '".concat(e,"'"))}}},{key:"login",value:function(){var e=Object(O.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={returnUrl:t},e.next=3,F.signIn(a);case 3:n=e.sent,e.t0=n.status,e.next=e.t0===D.Redirect?7:e.t0===D.Success?8:e.t0===D.Fail?11:13;break;case 7:return e.abrupt("break",14);case 8:return e.next=10,this.navigateToReturnUrl(t);case 10:return e.abrupt("break",14);case 11:return this.setState({message:n.message}),e.abrupt("break",14);case 13:throw new Error("Invalid status result ".concat(n.status,"."));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"processLoginCallback",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,e.next=3,F.completeSignIn(t);case 3:a=e.sent,e.t0=a.status,e.next=e.t0===D.Redirect?7:e.t0===D.Success?8:e.t0===D.Fail?11:13;break;case 7:throw new Error("Should not redirect.");case 8:return e.next=10,this.navigateToReturnUrl(this.getReturnUrl(a.state));case 10:return e.abrupt("break",14);case 11:return this.setState({message:a.message}),e.abrupt("break",14);case 13:throw new Error("Invalid authentication result status '".concat(a.status,"'."));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getReturnUrl",value:function(e){var t=new URLSearchParams(window.location.search).get(S);if(t&&!t.startsWith("".concat(window.location.origin,"/")))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return e&&e.returnUrl||t||"".concat(window.location.origin,"/")}},{key:"redirectToRegister",value:function(){this.redirectToApiAuthorizationPath("".concat(_.IdentityRegisterPath,"?").concat(S,"=").concat(encodeURI(_.Login)))}},{key:"redirectToProfile",value:function(){this.redirectToApiAuthorizationPath(_.IdentityManagePath)}},{key:"redirectToApiAuthorizationPath",value:function(e){var t="".concat(window.location.origin,"/").concat(e);window.location.replace(t)}},{key:"navigateToReturnUrl",value:function(e){window.location.replace(e)}}]),a}(n.Component),X=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={message:void 0,isReady:!1,authenticated:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.action;switch(e){case L:window.history.state.state.local?this.logout(this.getReturnUrl()):this.setState({isReady:!0,message:"The logout was not initiated from within the page."});break;case R:this.processLogoutCallback();break;case A:this.setState({isReady:!0,message:"You successfully logged out!"});break;default:throw new Error("Invalid action '".concat(e,"'"))}this.populateAuthenticationState()}},{key:"render",value:function(){var e=this.state,t=e.isReady,a=e.message;if(!t)return r.a.createElement("div",null);if(a)return r.a.createElement("div",null,a);var n=this.props.action;switch(n){case L:return r.a.createElement("div",null,"Processing logout");case R:return r.a.createElement("div",null,"Processing logout callback");case A:return r.a.createElement("div",null,a);default:throw new Error("Invalid action '".concat(n,"'"))}}},{key:"logout",value:function(){var e=Object(O.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={returnUrl:t},e.next=3,F.isAuthenticated();case 3:if(!e.sent){e.next=20;break}return e.next=7,F.signOut(a);case 7:n=e.sent,e.t0=n.status,e.next=e.t0===D.Redirect?11:e.t0===D.Success?12:e.t0===D.Fail?15:17;break;case 11:return e.abrupt("break",18);case 12:return e.next=14,this.navigateToReturnUrl(t);case 14:return e.abrupt("break",18);case 15:return this.setState({message:n.message}),e.abrupt("break",18);case 17:throw new Error("Invalid authentication result status.");case 18:e.next=21;break;case 20:this.setState({message:"You successfully logged out!"});case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"processLogoutCallback",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,e.next=3,F.completeSignOut(t);case 3:a=e.sent,e.t0=a.status,e.next=e.t0===D.Redirect?7:e.t0===D.Success?8:e.t0===D.Fail?11:13;break;case 7:throw new Error("Should not redirect.");case 8:return e.next=10,this.navigateToReturnUrl(this.getReturnUrl(a.state));case 10:return e.abrupt("break",14);case 11:return this.setState({message:a.message}),e.abrupt("break",14);case 13:throw new Error("Invalid authentication result status.");case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"populateAuthenticationState",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.isAuthenticated();case 2:t=e.sent,this.setState({isReady:!0,authenticated:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getReturnUrl",value:function(e){var t=new URLSearchParams(window.location.search).get(S);if(t&&!t.startsWith("".concat(window.location.origin,"/")))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return e&&e.returnUrl||t||"".concat(window.location.origin).concat(_.LoggedOut)}},{key:"navigateToReturnUrl",value:function(e){return window.location.replace(e)}}]),a}(n.Component),Z=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(p.b,{path:_.Login,render:function(){return $(U)}}),r.a.createElement(p.b,{path:_.LoginFailed,render:function(){return $(T)}}),r.a.createElement(p.b,{path:_.LoginCallback,render:function(){return $(I)}}),r.a.createElement(p.b,{path:_.Profile,render:function(){return $(P)}}),r.a.createElement(p.b,{path:_.Register,render:function(){return $(N)}}),r.a.createElement(p.b,{path:_.LogOut,render:function(){return ee(L)}}),r.a.createElement(p.b,{path:_.LogOutCallback,render:function(){return ee(R)}}),r.a.createElement(p.b,{path:_.LoggedOut,render:function(){return ee(A)}}))}}]),a}(n.Component);function $(e){return r.a.createElement(Q,{action:e})}function ee(e){return r.a.createElement(X,{action:e})}a(56);var te=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(J,null,r.a.createElement(p.b,{exact:!0,path:"/",component:H}),r.a.createElement(K,{path:"/fetch-data",component:q}),r.a.createElement(p.b,{path:"/counter",component:Y}),r.a.createElement(p.b,{path:_.ApiAuthorizationPrefix,component:Z}))}}]),a}(n.Component);te.displayName=te.name;var ae=document.getElementsByTagName("base")[0].getAttribute("href"),ne=document.getElementById("root");i.a.render(r.a.createElement(s.a,{basename:ae},r.a.createElement(te,null)),ne)}},[[36,1,2]]]);
//# sourceMappingURL=main.1af3b43d.chunk.js.map